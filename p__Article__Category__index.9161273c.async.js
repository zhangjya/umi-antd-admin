"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[774],{64789:function(T,m,e){e.d(m,{Z:function(){return h}});var s=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},c=g,f=e(84089),P=function(C,v){return a.createElement(f.Z,(0,s.Z)({},C,{ref:v,icon:c}))},h=a.forwardRef(P)},52688:function(T,m,e){var s=e(1413),a=e(91),g=e(67294),c=e(56499),f=e(85893),P=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],h=g.forwardRef(function(i,C){var v=i.fieldProps,n=i.unCheckedChildren,t=i.checkedChildren,d=i.proFieldProps,E=(0,a.Z)(i,P);return(0,f.jsx)(c.Z,(0,s.Z)({valueType:"switch",fieldProps:(0,s.Z)({unCheckedChildren:n,checkedChildren:t},v),ref:C,valuePropName:"checked",proFieldProps:d,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},E))});m.Z=h},5966:function(T,m,e){var s=e(1413),a=e(91),g=e(67294),c=e(56499),f=e(85893),P=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],i="text",C=function(d){var E=d.fieldProps,u=d.proFieldProps,y=(0,a.Z)(d,P);return(0,f.jsx)(c.Z,(0,s.Z)({valueType:i,fieldProps:E,filedConfig:{valueType:i},proFieldProps:u},y))},v=function(d){var E=d.fieldProps,u=d.proFieldProps,y=(0,a.Z)(d,h);return(0,f.jsx)(c.Z,(0,s.Z)({valueType:"password",fieldProps:E,proFieldProps:u,filedConfig:{valueType:i}},y))},n=C;n.Password=v,n.displayName="ProFormComponent",m.Z=n},27064:function(T,m,e){e.r(m),e.d(m,{default:function(){return V}});var s=e(97857),a=e.n(s),g=e(5574),c=e.n(g),f=e(55375),P=e(86548),h=e(48689),i=e(64789),C=e(23430),v=e(11774),n=e(30671),t=e(83062),d=e(15867),E=e(86738),u=e(67294),y=e(88465),r=e(80854),W=e(15009),I=e.n(W),L=e(99289),x=e.n(L),K=e(184),G=e(5966),N=e(52688),S=e(45360),l=e(85893);function z(o){var M=(0,u.useRef)();(0,u.useEffect)(function(){if(o.open&&o.data){var O;(O=M.current)===null||O===void 0||O.setFieldsValue(a()(a()({},o.data),{},{status:o.data.status===1,categoryParentId:o.data.categoryParentId||void 0}))}},[o.data,o.open]);var b=(0,r.useRequest)(y.GC,{manual:!0,onSuccess:function(){S.ZP.success("\u65B0\u589E\u6210\u529F"),o.onFinish()}}),F=(0,r.useRequest)(y.y1,{manual:!0,onSuccess:function(){S.ZP.success("\u66F4\u65B0\u6210\u529F"),o.onFinish()}});return(0,l.jsxs)(K.a,{formRef:M,open:o.open,width:"50vw",title:o.data?"\u7F16\u8F91\u5206\u7C7B":"\u65B0\u589E\u5206\u7C7B",drawerProps:{destroyOnClose:!0,onClose:o.onFinish},onOpenChange:function(D){return!D&&o.onFinish()},onFinish:function(){var O=x()(I()().mark(function D(Z){var j;return I()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(j=a()(a()({},Z),{},{status:Z.status?1:0}),!o.data){p.next=7;break}return j.id=o.data.id,p.next=5,F.run(j);case 5:p.next=9;break;case 7:return p.next=9,b.run(j);case 9:return p.abrupt("return",!0);case 10:case"end":return p.stop()}},D)}));return function(D){return O.apply(this,arguments)}}(),children:[(0,l.jsx)(G.Z,{name:"categoryName",label:"\u5206\u7C7B\u540D\u79F0",width:"md",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5206\u7C7B\u540D\u79F0"}]}),(0,l.jsx)(N.Z,{name:"status",label:"\u72B6\u6001",checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED"})]})}function V(){var o=(0,u.useState)(!1),M=c()(o,2),b=M[0],F=M[1],O=(0,u.useState)(),D=c()(O,2),Z=D[0],j=D[1],B=(0,u.useRef)(),p=(0,r.useRequest)(y.lD,{manual:!0,onSuccess:function(){var R;(R=B.current)===null||R===void 0||R.reload()}}),$=(0,u.useMemo)(function(){return[{dataIndex:"index",valueType:"indexBorder",title:"\u5E8F\u53F7",width:50},{dataIndex:"categoryName",title:"\u5206\u7C7B\u540D\u79F0",copyable:!0},{dataIndex:"createTime",title:"\u521B\u5EFA\u65F6\u95F4",hideInSearch:!0},{dataIndex:"status",title:"\u72B6\u6001",valueEnum:{1:{text:"\u542F\u7528",status:"Success"},2:{text:"\u7981\u7528",status:"Default"}}},{title:"\u64CD\u4F5C",valueType:"option",width:90,render:function(R,U){return[(0,l.jsx)(t.Z,{title:"\u7F16\u8F91",children:(0,l.jsx)(d.ZP,{type:"text",icon:(0,l.jsx)(P.Z,{}),onClick:function(){j(U),F(!0)}})},"edit"),(0,l.jsx)(E.Z,{okType:"danger",title:"\u5220\u9664\u5F53\u524D\u5206\u7C7B",onConfirm:function(){return p.run(U.categoryId)},okButtonProps:{loading:p.loading},children:(0,l.jsx)(d.ZP,{type:"text",danger:!0,icon:(0,l.jsx)(h.Z,{})})},"delete")]}}]},[p.loading]);return(0,l.jsxs)(v._z,{title:"\u6587\u7AE0\u5206\u7C7B",children:[(0,l.jsx)(n.Z,a()(a()({},f.L),{},{actionRef:B,columns:$,request:function(R){return(0,y.t5)(a()(a()({},R),{},{status:R.status?1:0}))},toolbar:{title:"\u5206\u7C7B\u5217\u8868",actions:[(0,l.jsx)(d.ZP,{type:"primary",icon:(0,l.jsx)(i.Z,{}),onClick:function(){return F(!0)},children:"\u65B0\u589E"},"add"),(0,l.jsx)(d.ZP,{type:"dashed",icon:(0,l.jsx)(C.Z,{}),children:"\u5BFC\u51FA"},"export")]}})),(0,l.jsx)(z,{open:b,data:Z,onFinish:function(){F(!1),j(null)}})]})}},88465:function(T,m,e){e.d(m,{GC:function(){return g},Gx:function(){return P},Ob:function(){return i},Yn:function(){return C},Z$:function(){return v},Z2:function(){return h},lD:function(){return f},t5:function(){return a},y1:function(){return c}});var s=e(78158),a=function(t){return(0,s.v)("/admin/productCategory/pages",t)},g=function(t){return(0,s.v)("/admin/productCategory/add",t)},c=function(t){return(0,s.v)("/admin/productCategory/update",t)},f=function(t){return(0,s.v)("/admin/productCategory/delete",{id:t})},P=function(t){return(0,s.v)("/admin/product/pages",t)},h=function(t){return(0,s.v)("/admin/product/add",t)},i=function(t){return(0,s.v)("/admin/product/update",t)},C=function(t){return(0,s.v)("/admin/product/delete",{id:t})},v=function(t){return(0,s.v)("/admin/product/detail",{id:t})}},78158:function(T,m,e){e.d(m,{v:function(){return C}});var s=e(15009),a=e.n(s),g=e(99289),c=e.n(g),f=e(80854),P=e(26855),h=function(n,t){P.Z.error({message:n,description:t})},i=function(){var v=c()(a()().mark(function n(t,d){var E,u;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,E={"Content-Type":"application/json"},r.next=4,(0,f.request)("/api".concat(t),{method:"POST",headers:E,data:d,timeout:1800});case 4:if(u=r.sent,!(u&&u.code!==void 0)){r.next=15;break}r.t0=u.code,r.next=r.t0===0?9:r.t0===1?10:r.t0===401?11:12;break;case 9:return r.abrupt("return",Promise.resolve(u.data));case 10:return r.abrupt("break",13);case 11:return r.abrupt("break",13);case 12:return r.abrupt("return",Promise.reject(u));case 13:r.next=16;break;case 15:return r.abrupt("return",Promise.resolve(u));case 16:r.next=30;break;case 18:if(r.prev=18,r.t1=r.catch(0),!r.t1.response){r.next=29;break}r.t2=r.t1.response.status,r.next=r.t2===401?24:r.t2===403?25:r.t2===404?26:28;break;case 24:return r.abrupt("break",29);case 25:return r.abrupt("break",29);case 26:return h("\u8BF7\u6C42\u5730\u5740\u4E0D\u5B58\u5728",r.t1.config.url),r.abrupt("break",29);case 28:return r.abrupt("break",29);case 29:return r.abrupt("return",Promise.reject(r.t1));case 30:case"end":return r.stop()}},n,null,[[0,18]])}));return function(t,d){return v.apply(this,arguments)}}(),C=function(){var v=c()(a()().mark(function n(t,d){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",i(t,d));case 1:case"end":return u.stop()}},n)}));return function(t,d){return v.apply(this,arguments)}}()}}]);
