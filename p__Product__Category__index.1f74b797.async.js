"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[356],{64789:function(R,f,e){e.d(f,{Z:function(){return E}});var a=e(87462),u=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=C,v=e(84089),h=function(g,p){return u.createElement(v.Z,(0,a.Z)({},g,{ref:p,icon:l}))},E=u.forwardRef(h)},64317:function(R,f,e){var a=e(1413),u=e(91),C=e(22270),l=e(67294),v=e(66758),h=e(56499),E=e(85893),c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(d,r){var j=d.fieldProps,T=d.children,S=d.params,A=d.proFieldProps,I=d.mode,b=d.valueEnum,B=d.request,x=d.showSearch,Z=d.options,i=(0,u.Z)(d,c),_=(0,l.useContext)(v.Z);return(0,E.jsx)(h.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,C.h)(b),request:B,params:S,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:Z,mode:I,showSearch:x,getPopupContainer:_.getPopupContainer},j),ref:r,proFieldProps:A},i),{},{children:T}))},o=l.forwardRef(function(t,d){var r=t.fieldProps,j=t.children,T=t.params,S=t.proFieldProps,A=t.mode,I=t.valueEnum,b=t.request,B=t.options,x=(0,u.Z)(t,g),Z=(0,a.Z)({options:B,mode:A||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},r),i=(0,l.useContext)(v.Z);return(0,E.jsx)(h.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,C.h)(I),request:b,params:T,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:i.getPopupContainer},Z),ref:d,proFieldProps:S},x),{},{children:j}))}),n=l.forwardRef(p),s=o,P=n;P.SearchSelect=s,P.displayName="ProFormComponent",f.Z=P},52688:function(R,f,e){var a=e(1413),u=e(91),C=e(67294),l=e(56499),v=e(85893),h=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],E=C.forwardRef(function(c,g){var p=c.fieldProps,o=c.unCheckedChildren,n=c.checkedChildren,s=c.proFieldProps,P=(0,u.Z)(c,h);return(0,v.jsx)(l.Z,(0,a.Z)({valueType:"switch",fieldProps:(0,a.Z)({unCheckedChildren:o,checkedChildren:n},p),ref:g,valuePropName:"checked",proFieldProps:s,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},P))});f.Z=E},5966:function(R,f,e){var a=e(1413),u=e(91),C=e(67294),l=e(56499),v=e(85893),h=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],c="text",g=function(s){var P=s.fieldProps,t=s.proFieldProps,d=(0,u.Z)(s,h);return(0,v.jsx)(l.Z,(0,a.Z)({valueType:c,fieldProps:P,filedConfig:{valueType:c},proFieldProps:t},d))},p=function(s){var P=s.fieldProps,t=s.proFieldProps,d=(0,u.Z)(s,E);return(0,v.jsx)(l.Z,(0,a.Z)({valueType:"password",fieldProps:P,proFieldProps:t,filedConfig:{valueType:c}},d))},o=g;o.Password=p,o.displayName="ProFormComponent",f.Z=o},94914:function(R,f,e){e.r(f),e.d(f,{default:function(){return z}});var a=e(97857),u=e.n(a),C=e(5574),l=e.n(C),v=e(55375),h=e(86548),E=e(48689),c=e(64789),g=e(23430),p=e(11774),o=e(30671),n=e(83062),s=e(15867),P=e(86738),t=e(67294),d=e(88465),r=e(80854),j=e(15009),T=e.n(j),S=e(99289),A=e.n(S),I=e(184),b=e(5966),B=e(64317),x=e(52688),Z=e(45360),i=e(85893);function _(m){var W=(0,t.useRef)();(0,t.useEffect)(function(){if(m.open&&m.data){var D;(D=W.current)===null||D===void 0||D.setFieldsValue(u()(u()({},m.data),{},{status:m.data.status===1,categoryParentId:m.data.categoryParentId||void 0}))}},[m.data,m.open]);var N=(0,r.useRequest)(d.GC,{manual:!0,onSuccess:function(){Z.ZP.success("\u65B0\u589E\u6210\u529F"),m.onFinish()}}),L=(0,r.useRequest)(d.y1,{manual:!0,onSuccess:function(){Z.ZP.success("\u66F4\u65B0\u6210\u529F"),m.onFinish()}});return(0,i.jsxs)(I.a,{formRef:W,open:m.open,width:"50vw",title:m.data?"\u7F16\u8F91\u5206\u7C7B":"\u65B0\u589E\u5206\u7C7B",drawerProps:{destroyOnClose:!0,onClose:m.onFinish},onOpenChange:function(M){return!M&&m.onFinish()},onFinish:function(){var D=A()(T()().mark(function M(U){var y;return T()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(y=u()(u()({},U),{},{status:U.status?1:0}),!m.data){O.next=7;break}return y.id=m.data.id,O.next=5,L.run(y);case 5:O.next=9;break;case 7:return O.next=9,N.run(y);case 9:return O.abrupt("return",!0);case 10:case"end":return O.stop()}},M)}));return function(M){return D.apply(this,arguments)}}(),children:[(0,i.jsx)(b.Z,{name:"categoryName",label:"\u5206\u7C7B\u540D\u79F0",width:"md",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5206\u7C7B\u540D\u79F0"}]}),(0,i.jsx)(B.Z,{name:"categoryParentId",label:"\u4E0A\u7EA7\u5206\u7C7B",width:"md"}),(0,i.jsx)(x.Z,{name:"status",label:"\u72B6\u6001",checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED"})]})}function z(){var m=(0,t.useState)(!1),W=l()(m,2),N=W[0],L=W[1],D=(0,t.useState)(),M=l()(D,2),U=M[0],y=M[1],G=(0,t.useRef)(),O=(0,r.useRequest)(d.lD,{manual:!0,onSuccess:function(){var F;(F=G.current)===null||F===void 0||F.reload()}}),$=(0,t.useMemo)(function(){return[{dataIndex:"index",valueType:"indexBorder",title:"\u5E8F\u53F7",width:50},{dataIndex:"categoryName",title:"\u5206\u7C7B\u540D\u79F0",copyable:!0},{dataIndex:"categoryParentName",title:"\u4E0A\u7EA7\u5206\u7C7B"},{dataIndex:"createTime",title:"\u521B\u5EFA\u65F6\u95F4",hideInSearch:!0},{dataIndex:"status",title:"\u72B6\u6001",valueEnum:{1:{text:"\u542F\u7528",status:"Success"},2:{text:"\u7981\u7528",status:"Default"}}},{title:"\u64CD\u4F5C",valueType:"option",width:90,render:function(F,V){return[(0,i.jsx)(n.Z,{title:"\u7F16\u8F91",children:(0,i.jsx)(s.ZP,{type:"text",icon:(0,i.jsx)(h.Z,{}),onClick:function(){y(V),L(!0)}})},"edit"),(0,i.jsx)(P.Z,{okType:"danger",title:"\u5220\u9664\u5F53\u524D\u5206\u7C7B",onConfirm:function(){return O.run(V.categoryId)},okButtonProps:{loading:O.loading},children:(0,i.jsx)(s.ZP,{type:"text",danger:!0,icon:(0,i.jsx)(E.Z,{})})},"delete")]}}]},[O.loading]);return(0,i.jsxs)(p._z,{title:"\u5546\u54C1\u5206\u7C7B",children:[(0,i.jsx)(o.Z,u()(u()({},v.L),{},{actionRef:G,columns:$,request:function(F){return(0,d.t5)(u()(u()({},F),{},{status:F.status?1:0}))},toolbar:{title:"\u5206\u7C7B\u5217\u8868",actions:[(0,i.jsx)(s.ZP,{type:"primary",icon:(0,i.jsx)(c.Z,{}),onClick:function(){return L(!0)},children:"\u65B0\u589E"},"add"),(0,i.jsx)(s.ZP,{type:"dashed",icon:(0,i.jsx)(g.Z,{}),children:"\u5BFC\u51FA"},"export")]}})),(0,i.jsx)(_,{open:N,data:U,onFinish:function(){L(!1),y(null)}})]})}},88465:function(R,f,e){e.d(f,{GC:function(){return C},Gx:function(){return h},Ob:function(){return c},Yn:function(){return g},Z$:function(){return p},Z2:function(){return E},lD:function(){return v},t5:function(){return u},y1:function(){return l}});var a=e(78158),u=function(n){return(0,a.v)("/admin/productCategory/pages",n)},C=function(n){return(0,a.v)("/admin/productCategory/add",n)},l=function(n){return(0,a.v)("/admin/productCategory/update",n)},v=function(n){return(0,a.v)("/admin/productCategory/delete",{id:n})},h=function(n){return(0,a.v)("/admin/product/pages",n)},E=function(n){return(0,a.v)("/admin/product/add",n)},c=function(n){return(0,a.v)("/admin/product/update",n)},g=function(n){return(0,a.v)("/admin/product/delete",{id:n})},p=function(n){return(0,a.v)("/admin/product/detail",{id:n})}},78158:function(R,f,e){e.d(f,{v:function(){return g}});var a=e(15009),u=e.n(a),C=e(99289),l=e.n(C),v=e(80854),h=e(26855),E=function(o,n){h.Z.error({message:o,description:n})},c=function(){var p=l()(u()().mark(function o(n,s){var P,t;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,P={"Content-Type":"application/json"},r.next=4,(0,v.request)("/api".concat(n),{method:"POST",headers:P,data:s,timeout:1800});case 4:if(t=r.sent,!(t&&t.code!==void 0)){r.next=15;break}r.t0=t.code,r.next=r.t0===0?9:r.t0===1?10:r.t0===401?11:12;break;case 9:return r.abrupt("return",Promise.resolve(t.data));case 10:return r.abrupt("break",13);case 11:return r.abrupt("break",13);case 12:return r.abrupt("return",Promise.reject(t));case 13:r.next=16;break;case 15:return r.abrupt("return",Promise.resolve(t));case 16:r.next=30;break;case 18:if(r.prev=18,r.t1=r.catch(0),!r.t1.response){r.next=29;break}r.t2=r.t1.response.status,r.next=r.t2===401?24:r.t2===403?25:r.t2===404?26:28;break;case 24:return r.abrupt("break",29);case 25:return r.abrupt("break",29);case 26:return E("\u8BF7\u6C42\u5730\u5740\u4E0D\u5B58\u5728",r.t1.config.url),r.abrupt("break",29);case 28:return r.abrupt("break",29);case 29:return r.abrupt("return",Promise.reject(r.t1));case 30:case"end":return r.stop()}},o,null,[[0,18]])}));return function(n,s){return p.apply(this,arguments)}}(),g=function(){var p=l()(u()().mark(function o(n,s){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c(n,s));case 1:case"end":return t.stop()}},o)}));return function(n,s){return p.apply(this,arguments)}}()}}]);
